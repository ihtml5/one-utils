!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e["norton\b\b\bWX"]={})}(this,function(e){"use strict";var t=!wx||!Page||!App,n=t?getApp():void 0,r=function(e){return"[object Object]"===Object.prototype.toString.call(e)},o=function(e){return"string"==typeof e},c=function(e){return"function"==typeof e},i=function(e){return void 0===e},u=function(e){if(r(e)){var t=e.key,n=e.data,u=e.success,s=e.fail,f=(e.complete,e.sync);if(!o(t)&&!i(t))return!1;if(!o(n)||!r(n))return!1;if(!c(u)&&!f&&!i(s))return!1;if(!c(s)&&!f&&!i(s))return!1}return!1},s=function(){},f=function(){var e=getCurrentPages();return e[e.length-1].route};e.isWxAppEnv=t,e.AppInfo=n,e.page=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t?Page(e):function(e){}},e.isObject=r,e.isString=o,e.isFunction=c,e.isUndefined=i,e.isNumber=function(e){return"number"==typeof e},e.setItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(u(e)){var t=e.key,n=e.data,r=(e.success,e.fail,e.complete,e.sync);try{return r?wx.setStorageSync(t,n):wx.setStorage(e)}catch(t){console.warn("请检查传入的参数是否正确"+e)}}console.warn("请检查传入的参数是否正确"+e)},e.getItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(u(e)){var t=e.key,n=(e.data,e.success,e.fail,e.complete,e.sync);try{return n?wx.getStorageSync(t):wx.getStorage(e)}catch(t){console.warn("请检查传入的参数是否正确"+e)}}console.warn("请检查传入的参数是否正确"+e)},e.isVaildItemParams=u,e.fetch=function(e){var t=e.url,n=e.method,r=e.data,o=e.header;return new Promise(function(e,c){return wx.request({url:t,data:r,method:n,header:o,success:e,fail:c,complete:s})})},e.getLoginCode=function(){return new Promise(function(e,t){return wx.login({success:e,fail:t,complete:s})})},e.getUserInfo=function(){return new Promise(function(e,t){return wx.getUserInfo({success:e,fail:t,complete:s})})},e.getJWD=function(){return new Promise(function(e,t){wx.getLocation({type:"wgs84",success:e,fail:t,complete:s})})},e.getSystemInfo=function(e){return new Promise(function(t,n){return wx["getSystemInfo"+(e?"Sync":"")]({success:t,fail:n})})},e.getAll=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(u(e))try{return e.success,e.fail,e.complete,e.sync?wx.getStorageInfoSync():wx.getStorage(e)}catch(t){console.warn("请检查传入的参数是否正确"+e)}},e.removeAll=function(e){return e?wx.clearStorageSync():wx.clearStorage()},e.promisfy=function(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return new Promise(function(n,o){return e.apply(void 0,[Object.assign({},t,{success:n,fail:o})].concat(r))})}},e.getCurrentPageUrl=f,e.getCurrentPageUrlWithArgs=function(){var e=f(),t=currentPage.options,n=e+"?";for(var r in t)n+=r+"="+t[r]+"&";return n=n.substring(0,n.length-1)},Object.defineProperty(e,"__esModule",{value:!0})});
